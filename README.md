# Irlix Social Network

## Назначение
Приложение представляет собой большую афишу сообщества.
Приложение предназначено для предоставления пользователям различного контента (образовательный, развлекательный, новостной и т.п.) и оповещения пользователей о важных событиях (рабочие встречи, конференции, корпоративные мероприятия и т.п.).

## Ссылки
* О проекте https://app.clickup.com/18319652/v/dc/hf294-81/hf294-41
* Система управления разработкой https://app.clickup.com/18319652/v/b/7-18319652-2
* Тех.задание https://docs.google.com/document/d/1s_VgI7Za854cqa5k1tIpZjlAYJ0c7-YakjfUXetd8sc/edit
* Основной репозиторий бэкенд части https://gitlab.lan/club/social-network-backend
* Swagger - http://192.168.88.11:8085/swagger-ui/index.html?configUrl=/open-api-docs/swagger-config

## Стек технологий
* Осноной язык - Java 11.
* Управление зависимостями Maven.
* СУБД - Postgres.
* Управление миграциями производится через Liquibase.
* Docker.
* Используется фреймворк Spring Boot. ORM через Spring Data.
* Уведомления через FCM.
* В проекте активно используется Lombock.

## Архитектура
Приложение представляет из себя **монолит**.  
Разрабатывается стандартное **REST API**.  
Авторизация реализованна через **JWT**.  
Взаимодействие с бд через ORM.   
В проекте реализованы пуш-уведомления через **Firebase**.

В проекте принята ролевая модель с разделением ролей на *"ADMIN/USER/GUEST"*. Разрешения на доступ к методам контроллера пользователей с различными ролями даются с применением АОП через аннотацию `@RoleAndPermissionCheck`.
У каждого пользователя есть определенная роль. У одного пользователя в разных сообществах может быть разный статус. Роли и статусы имеют сущности в бд.
Отношение пользователя, сообщества и статуса задано через **ManyToMany** через отдельную сущность.

Для конвертации ДТО в сущность и обратно используется класс `Converter` из библиотеки спринга. Вызывается метод `convert()` у класса `ConversionService`.
**CI/CD** настроено в гитлабе, используется докер.

## Ресурсы
* Тестовый стенд http://192.168.88.11:8085

## Настройки
Для развертывания на локальной машине достаточно поменять в `application.properties` пользователя и пароль к локальной бд.
Для тестирования в свагере для начала нужно авторизироваться через метод `POST api/sign-in` и пробросить токен авторизации в окно авторизации.
Для получения доступа к серверу и бд на сервере следует обратиться к системному администратору.

Работу следует вести в отдельных ветках. Основная ветка, код которой деплоится на стенд - **develop**.
Вливать через **MergeRequest**. В названии ветки следует указывать идентификатор задачи из **clickUp**.
На проекте проводится кросс-ревью.
